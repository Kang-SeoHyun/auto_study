# 4주차
## 다중접속 관련

1. 방 관리를 위한 서버 측 로직 추가
	```
	서버 측에는 클라이언트가 접속 및 퇴장할 때 방에 대한 정보를 관리하는 로직을 추가해야 합니다. 클라이언트가 퇴장하더라도 해당 방의 소켓이 종료되지 않도록 하기 위해 방 관리자가 방의 접속자 목록을 유지하고, 클라이언트가 퇴장할 때 해당 클라이언트를 목록에서 제거하는 등의 작업을 수행해야 합니다.
	```
	* 특징: 클라이언트가 퇴장해도 해당 방의 소켓이 종료되지 않고 방 관리자가 방의 접속자 목록을 유지합니다.
	* 장점: 방 별로 접속자 관리가 용이하며, 방 관리 로직을 중심으로 채팅방을 설계할 수 있습니다.
	* 단점: 멀티스레딩과 별개로 방 관리 로직을 구현해야 하므로 코드의 복잡성이 증가할 수 있습니다.

2. 멀티스레딩을 사용한 방 별 독립적인 처리
	```
	각 방은 독립적인 쓰레드에서 처리되도록 설계해야 합니다. 클라이언트가 방에 접속할 때마다 해당 방에 대한 새로운 쓰레드가 생성되어 처리를 담당하고, 클라이언트가 퇴장하면 해당 방 쓰레드를 종료하는 방식입니다. 이렇게 하면 한 명의 클라이언트가 퇴장해도 다른 클라이언트의 소켓이 종료되지 않습니다.
	```
	* 특징: 각 방은 독립적인 쓰레드에서 처리되며, 클라이언트의 퇴장 시 해당 방 쓰레드를 종료합니다.
	* 장점: 방 별로 독립적인 처리가 가능하며, 쓰레드를 통한 병렬 처리가 가능합니다.
	* 단점: 쓰레드 관리 및 동기화에 신경써야 하며, 많은 수의 방이 생성되는 경우 쓰레드 관리에 어려움이 있을 수 있습니다.

3. 채팅 프로토콜 개선
	```
	클라이언트와 서버 간의 통신 방식을 개선하여 클라이언트의 퇴장 시 소켓을 종료하지 않고도 해당 클라이언트의 퇴장을 알리는 방법을 사용할 수 있습니다. 예를 들어, 클라이언트가 퇴장하려는 경우 서버에 퇴장 요청 메시지를 전송하고, 서버는 해당 클라이언트를 방에서 제거하는 등의 처리를 수행합니다. 이렇게 하면 클라이언트의 소켓이 종료되지 않고도 방의 접속자 관리가 가능합니다.
	```
	* 특징: 클라이언트와 서버 간의 통신 방식을 개선하여 클라이언트의 퇴장 시 소켓을 종료하지 않고도 해당 클라이언트의 퇴장을 알립니다.
	* 장점: 클라이언트의 퇴장 처리가 유연하게 이루어지며, 채팅 프로토콜 자체를 개선하여 효율적인 통신이 가능합니다.
	* 단점: 프로토콜 개선에 따른 추가적인 구현이 필요하며, 클라이언트와 서버 간의 상호작용에 주의해야 합니다.

4. TCP/IP 소켓 통신을 사용하면
	* 장점: 실시간 통신이 가능하며, 신뢰성이 높고 안정적입니다.
	* 단점: 사용자 수가 많아질수록 서버 부하가 커질 수 있습니다.
	* 단점: 또한, 서버와 클라이언트 간의 직접적인 연결을 필요로 하기 때문에 방화벽 등의 네트워크 제약이 있을 수 있습니다.

5. 채팅방마다의 클라이언트 정보 데이터는 서버에서 처리하는 것이 일반적
	* 중앙 집중화 : 서버가 클라이언트 정보 데이터를 관리하면 모든 클라이언트는 동일한 데이터를 참조하게 됩니다. 이는 일관성을 유지하고 데이터 불일치 문제를 방지합니다.
		* 클라이언트에서 하니까 채팅방 데이터 삭제가 안되었음!
	* 보안: 서버에서 클라이언트 정보 데이터를 관리하면 클라이언트 간의 데이터 접근을 제어할 수 있습니다. 서버는 적절한 권한 및 인증 메커니즘을 통해 클라이언트 정보에 대한 접근을 제한할 수 있습니다.
	* 동기화: 여러 클라이언트가 동시에 채팅방에 참여하거나 나갈 수 있습니다. 서버에서 클라이언트 정보 데이터를 관리하면 동시 접근 및 수정 문제를 해결할 수 있습니다. 서버는 적절한 동기화 메커니즘을 사용하여 데이터 일관성을 유지할 수 있습니다.
	* 유연성: 서버에서 클라이언트 정보 데이터를 관리하면 채팅방의 상태를 유연하게 조작할 수 있습니다. 예를 들어, 서버는 특정 클라이언트를 강제로 퇴장시키거나 채팅방을 삭제할 수 있습니다.

6. 다중 클라이언트 환경에서 데이터 일관성 및 동기화 문제가 발생할 수 있다. - 보안 취약점이 될 수 있음.
